<!DOCTYPE html>

<head>
  <!-- Some dependencies we've added that you shouldnt worry about at this time -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <script src="script.js"></script>
  <script src="source-code.js"></script>

  <!-- looking at plain html is boring, can you figure out how to import styling to make your personal website look nice? -->
  <!-- Try looking up on google how to import css files into your html page -->
  <link rel="stylesheet" href="styles.css">
</head>

<body> 
  <div class="navbar">
    <span><a href="aboutme.html"> About Me </a></span>
    <span>Contact</span>
    <span>JS Saga</span>
  </div>
  <div class="main">
    <div class="section about-me" id="about-me">
      <!-- try changing this image to your personal profile picture -->
      <div class="avatar-container">
        <img class="avatar" src="https://static01.nyt.com/images/2021/02/07/sports/07sb-oldbrady/07sb-oldbrady-mobileMasterAt3x.jpg" alt="">
      </div>
      <div class="about-me-container">
        <!-- Insert your name here -->
        <h1>Hi! My name is Nicholas</h1>
        <p> I live in the Bronx, NY </p>
        <a href="https://Instagram.com/nick_huncho_13">Visit my Instagram!</a>
      </div>
    </div>
    <div class="section js-challenges">
      <h1>JavaScript Accessment challenges</h1>
      <div class="challenge-container">
        <h3 id="challenge-description"></h3>
        <h3 id="challenge-answer"></h3>
        <!-- #CodePenChallenge: Fractals -->
<div id="paintMe"></div>
body {
  overflow: hidden;
  cursor: pointer;
  margin: 0 auto;
}
.square1,
.square2,
.square3,
.square4,
.square5,
.square6,
.square7,
.square8,
.square9,
.square10 {
  position: absolute;
  transform: translate(-50%, -50%);
  border-radius: 0 0 0 0;
}
.leaf {
  background-color: green;
  position: absolute;
  transform: translate(-50%, -50%);
}
#paintMe {
  overflow: hidden;
  height: 100%;
  width: 100%;
  position: absolute;
  cursor: pointer;
}
function randomNumber(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}
const randInt = (min, max) => {
  return Math.floor(Math.random() * (max - min + 1)) + min;
};

const toHex = (d) => {
  let r = d % 16;
  if (d - r === 0) {
    return toChar(r);
  }
  return toHex((d - r) / 16) + toChar(r);
};

const toChar = (n) => {
  const alpha = "0123456789ABCDEF";
  return alpha.charAt(n);
};

//hex conversion functions
const rgbToHex = (r, g, b) => {
  let hr = toHex(r);
  if (hr.length == 1) {
    hr = "0" + hr;
  }
  let hg = toHex(g);
  if (hg.length == 1) {
    hg = "0" + hg;
  }
  let hb = toHex(b);
  if (hb.length == 1) {
    hb = "0" + hb;
  }
  let hrhghb = "#" + hr + hg + hb;
  return hrhghb;
};

const createPalette = (
  num = 4,
  r = randInt(0, 255),
  g = randInt(0, 255),
  b = randInt(0, 255)
) => {
  let colorPaletteHex = [];
  let colorPaletteRGB = [];
  let multiplier = Math.floor(255 / num);
  for (let i = 1; i < num; i++) {
    let rr = Math.floor(255 - Math.abs(r - i * multiplier));
    let gg = Math.floor(255 - Math.abs(g - i * multiplier));
    let bb = Math.floor(255 - Math.abs(b - i * multiplier));
    colorPaletteHex.push(rgbToHex(rr, gg, bb));
    colorPaletteRGB.push(`rgb(${rr},${gg},${bb})`);
  }
  colorPaletteHex.push(rgbToHex(r, g, b));
  colorPaletteRGB.push(`rgb(${r},${g},${b})`);
  return [colorPaletteRGB, colorPaletteHex];
};

function checkIntersection(className) {
  var sub1Array = [];
  var sub2Array = [];

  var allSquares = document.getElementsByClassName(className);
  var num = className.charAt(className.length - 1);

  for (var i = 0; i < allSquares.length; i++) {
    var rect = allSquares[i].getBoundingClientRect();
    var x = rect.left;
    var y = rect.top;
    var w = rect.width;
    var h = rect.height;

    //sub squares
    var subSquare1 =
      "<div class='square" +
      (num * 1 + 1) +
      "' style='top:" +
      y +
      "px; left:" +
      x +
      "px; background-color:" +
      allSquares[i].style.backgroundColor +
      "; height:" +
      (w * 1) / 2 +
      "px; width:" +
      (h * 1) / 2 +
      "px; border-radius:" +
      randomNumber(0, 1) +
      "px''></div>";
    //var leaf = "<div class='leaf' style='top:" +  y + "px; left:" + x + "px; background-color:green; height:" + ((h * 1) * 2 * 2 * 2 * 2) + "px; width:" + ((h * 1) * 2 * 2 * 2) + "px; border-radius:1000px'></div>";
    //console.log(leaf);
    if ((w * 1) / 2 > 2) {
      sub1Array.push(subSquare1);
      // } else {
      //  sub1Array.push(leaf);
    }

    var subSquare2 =
      "<div class='square" +
      (num * 1 + 1) +
      "' style='top:" +
      y +
      "px; left:" +
      (x * 1 + w) +
      "px; background-color:" +
      allSquares[i].style.backgroundColor +
      "; height:" +
      (w * 1) / 2 +
      "px; width:" +
      (h * 1) / 2 +
      "px; border-radius:" +
      randomNumber(0, 1) +
      "px''></div>";
    if ((w * 1) / 2 > 2) {
      sub2Array.push(subSquare2);
    }
  }
  for (var i = 0; i < sub1Array.length; i++) {
    document.getElementById("paintMe").innerHTML += sub1Array[i];
    document.getElementById("paintMe").innerHTML += sub2Array[i];
  }
}

//rePaint it
function reDraw() {
  var paintArea = document.getElementById("paintMe");

  paintArea.innerHTML = "";

  let colors = createPalette(8)[0];
  paintArea.style.background = colors[7];

  for (var i = 1; i < 7; i++) {
    var newSquare = `<div class='square1' style='top:50vh; left:50vw; background-color:${
      colors[i]
    }; height:${randomNumber(10, 200)}px; width:${randomNumber(
      10,
      200
    )}px; opacity:${i / 7}; border-radius:${randomNumber(0, 1)}px'></div>`;

    paintArea.innerHTML += newSquare;
  }
  var speed = 100;
  setTimeout(function () {
    checkIntersection("square1");
  }, speed);
  setTimeout(function () {
    checkIntersection("square2");
  }, speed * 2);
  setTimeout(function () {
    checkIntersection("square3");
  }, speed * 3);
  setTimeout(function () {
    checkIntersection("square4");
  }, speed * 4);
  setTimeout(function () {
    checkIntersection("square5");
  }, speed * 5);
  setTimeout(function () {
    checkIntersection("square6");
  }, speed * 6);
  setTimeout(function () {
    checkIntersection("square7");
  }, speed * 7);
  setTimeout(function () {
    checkIntersection("square8");
  }, speed * 8);
}

reDraw();
document.querySelector("#paintMe").addEventListener("click", reDraw, true);
       </div>
      </div>
      <button class="check-solution-btn" onclick="checkSolution()">Click to test your solution!</button>
    </div>
  </div>
</body>

</html>
